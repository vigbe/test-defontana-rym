<div *ngIf="gqlCharacter; else noCharacter">
  <img [src]="gqlCharacter.image" [alt]="gqlCharacter.name" class="character-image" />
  <h2>{{ gqlCharacter.name }}</h2>
  <button mat-raised-button color="accent" (click)="copiarUrlDelPersonaje()">
    Compartir personaje
  </button>
  <p><strong>Status:</strong> {{ gqlCharacter.status }}</p>
  <p><strong>Species:</strong> {{ gqlCharacter.species }}</p>
  <p><strong>Type:</strong> {{ gqlCharacter.type || 'N/A' }}</p>
  <p><strong>Gender:</strong> {{ gqlCharacter.gender }}</p>
  <p><strong>Created:</strong> {{ gqlCharacter.created | date:'yyyy-MM-dd' }}</p>

  <div class="location-block">
    <h3>Origen</h3>
    <p><strong>Nombre:</strong> {{ gqlCharacter.origin?.name || 'Desconocido' }}</p>
    <div *ngIf="gqlCharacter?.origin?.residents?.length; else noOriginResidents">
      <span *ngFor="let resident of (gqlCharacter?.origin?.residents || []) | slice:0:3; let i = index">
        Residente {{i + 1}}: {{ resident.name }}
      </span>
    </div>
    <ng-template #noOriginResidents>
      <span>No tiene residentes.</span>
    </ng-template>
  </div>

  <div class="location-block">
    <h3>Localizaci√≥n</h3>
    <p><strong>Nombre:</strong> {{ gqlCharacter.location?.name || 'Desconocido' }}</p>
    <div *ngIf="gqlCharacter?.location?.residents?.length; else noLocationResidents">
      <span *ngFor="let resident of (gqlCharacter?.location?.residents || []) | slice:0:3; let i = index">
        Residente {{i + 1}}: {{ resident.name }}
      </span>
    </div>
    <ng-template #noLocationResidents>
      <span>No tiene residentes.</span>
    </ng-template>
  </div>

<div class="episode-block">
  <h3>Episodio</h3>
  <ng-container *ngIf="gqlCharacter?.episode as episodes">
    <span *ngIf="episodes.length > 0; else noEpisode">
      {{ episodes[0].name }}
    </span>
  </ng-container>
  <ng-template #noEpisode>
    <span>No tiene episodios.</span>
  </ng-template>
</div>

</div>

<ng-template #noCharacter>
  <p>Selecciona un personaje para ver los detalles.</p>
</ng-template>